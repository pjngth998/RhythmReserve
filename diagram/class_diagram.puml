@startuml


class ReserveSystem{
    -branch_list : list
    -user_list : list
    -policy : class
    +add_user()
    +search_user()
    +get_transaction()
    +process_cancellation()
    +create_reservation()
    +notify_user()
    +update_room_status()
    +make_customer_id() : str
    +make_branch_id(name) : str
    
}

class Branch{
    -name : str
    -id : str
    -room_list : list
    -officer_list : list
    -equipment_list : list
    +id(): str
    +name() : str
    +room() : list
    +room(new_room) : void
    +equipment() : list
    +equipment(new_equipment) : void
    +get_available_slot(size, date) : list
    
}

class RoomStatus <<enumeration>>{
    AVAILABLE
    RESERVED
    OCCUPIED
    MAINTENANCE
}
class Room {
    -room_id : str
    -time_slot : list
    -size : str
    -rate : float
    -eq_quota : int
    -size : str
    -room_status : enum
}


class Time_slot{
    -start_time : str
    -end_time : str
    -status : str
}


class Equipment{
    -eq_id : str
    -time_slot : class
    -size : int
    +id() : str
}



class Booking{
    -room : class
    -equipment_list : list
    -customer : class
    -time_slot : class
    -total_price : float
}

class Order{
    -customer : class
    -booking_list : list
    -total_price : float
    -coupon : class
    -payment : class

}

class PaymentChannel{
    +process() : bool
}

class QrScan{
    -qr_image : str
    +generate_qr()
}

class CreditCard{
    -card_number : str
    -cvv : str
    +validate_card()
}

class Payment{
    -order : class
    -coupon : class
    -fine : class
    -refund : class
    -payment_channel : class
    -payment_status : str
    -amount : float
    +process_payment()
    +payment_refund()

}
class TransStatus <<enumeration>> {
    PENDING
    CHECK_IN
    COMPLETED
    CANCELLED
    FAILED
}
class Transaction{
    -transaction_id : str
    -timestamp : datetime
    -order : class
    -type : str
    +check_cancel_rule()

    -status : enum
    +check_cancel_rule()
    +do_checkin()
    +do_checkout()
    +get_reserve_detail()
}


class User{
    -user_id : str
    -username : str
    -password : str
    -name : str
    -email : str
    -phone : str
    -age : int
    -transaction_ls : list
    -role : enum
    +log_in()
    +log_out()
    +verify_password()
    +update_profile()
    +change_password()
    +add_transaction()
    +search_transaction()

}

class Officer{
    -brance_id : str
    -history_working : list
}

class BranchManager{
    -All_staff : list
    +add_staff()
    +remove_staff()
    +get_report()
    +approve_maintenance_request()
    +set_status(room_id, status) : void

}

class FrontDesk{
    -daily_report : list
    +add_equipment()
    +add_Daily_report()
    +customer_check_in()
    +customer_check_out()
}

class SystemAdmin{
    +add_coupon()
    +add_Room()
    +add_Branch()
    +Manage_membership_level()
    +Manage_booking_rules_and_penalties()
    +Mansge_Pricing()
    +make_equipment_id(branch_id, type_)
    +make_room_id(branch_id, size)
}

class Customer{
    -current_points : int
    -booking_history : list
    -my_coupon : list
    +redeem_point()
    +Booking_room()
    +Report_room()
    +view_membership_and_privileges()
}

class Standard{

}

class Premium{

}

class Diamond{

}

class Policy{
    +cancel : void
    +refund : void
    +fine : void
    -check_cancel_rule()

}

class Notification{
    -user : class
    -order : class

}


class Coupon{
    -All_coupon : list
    -expired_date : datetime
    -discount : float

}

class RoomType <<enumeration>>{
    S
    M
    L
    XL
}

class EquipmentType <<enumeration>> {
    ELECTRICGUITAR
    ACOUSTICGUITAR
    DRUM
    MICROPHONE
    BASS
    KEYBOARD
}

class RoomEquipmentStatus <<enumeration>> {

}



User <|-- Officer
User <|-- Customer
Customer <|-- Standard
Customer <|-- Premium
Customer <|-- Diamond
Officer <|-- BranchManager
Officer <|-- FrontDesk
Officer <|-- SystemAdmin
Payment <|-- PaymentChannel 
PaymentChannel <|-- QrScan
PaymentChannel <|-- CreditCard
ReserveSystem o-- Branch
ReserveSystem o-- Policy
Customer o-- Coupon
Branch o-- Room
Branch o-- Equipment
Room o-- Time_slot
Equipment o-- Time_slot
Customer o-- Order
Order o-- Booking
Customer o-- Transaction
Customer o-- Notification
Order <-- Payment
Room --* RoomType
Equipment --* EquipmentType 
@enduml