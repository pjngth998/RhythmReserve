@startuml
left to right direction
skinparam packageStyle rectangle

actor Customer
actor "Front Desk Staff" as Staff
actor "Branch Manager" as Manager
actor "System Admin" as Admin
actor "Payment System" as Payment
' actor "OTP System" as OTP

rectangle "Booking System" {

  Customer -- (Register)
  (Register) ..> (Provide Personal Info) : <<include>>
  ' (Register) ..> (Verify OTP) : <<include>>
  ' (Verify OTP) ..> OTP : <<include>>

  Customer -- (Login)
  (Login) ..> (Verify Password) : <<include>>

  Customer -- (Manage Profile)
  Customer -- (View Membership & Privileges)
  Customer -- (View Booking & Payment History)

  Customer -- (Book Practice Room)
  (Book Practice Room) ..> (Check Room Availability) : <<include>>
  (Book Practice Room) ..> (Check Payment) : <<include>>
  (Check Payment) ..> Payment : <<include>>

  (Book Practice Room) <.. (Book Equipment) : <<extend>>
  (Book Equipment) ..> (Check Available Equipment) : <<include>>

  (Book Practice Room) <.. (Edit Booking) : <<extend>>
  (Book Practice Room) <.. (Cancel Booking) : <<extend>>
  (Cancel Booking) ..> (Return Equipment) : <<include>>

  Customer -- (Report Room/Equipment Issue)

  Staff -- (Staff Login)
  (Staff Login) ..> (Verify Staff ID) : <<include>>
  (Staff Login) ..> (Verify Password) : <<include>>

  Staff -- (View Daily Booking List)

  Staff -- (Customer Check-in) 
  (Customer Check-in) ..> (Set Room Status In Use) : <<include>>
  (Customer Check-in) <.. (Set Equipment Borrowed) : <<extend>>

  Staff -- (Customer Check-out)
  (Customer Check-out) ..> (Room Available) : <<include>>
  (Customer Check-out) ..> (Room Maintenance) : <<include>>
  (Customer Check-out)  <.. (Equipment Available) : <<extend>>
  (Customer Check-out) <.. (Equipment Maintenance) : <<extend>>

  Staff -- (Add Equipment)
  (Add Equipment) <.. (Remove Equipment) : <<eextend>>

  Staff -- (Daily Report)
  (Daily Report) ..> (Room & Equipment Status Report) : <<include>>
  (Daily Report) ..> (Daily Revenue Report) : <<include>>
  (Daily Report) <.. (Penalty & Notes) : <<extend>>

  Manager -- (Manager Login)
  (Manager Login) ..> (Verify Branch ID) : <<include>>
  (Manager Login) ..> (Verify Password) : <<include>>

  Manager -- (Read Reports)
  Manager -- (Approve Room Maintenance)
  Manager -- (Approve Equipment Maintenance)

  Manager -- (Close Room) 

  Manager --  (Add Staff) 
  (Add Staff) <..  (Remove Staff) : <<extend>>

  Admin -- (Admin Login)
  (Admin Login) ..> (Verify Admin ID) : <<include>>
  (Admin Login) ..> (Verify Password) : <<include>>

  Admin -- (Manage Membership Levels)
  Admin -- (Manage Booking Rules & Penalties)
  Admin -- (Manage Pricing)

  Admin -- (Add Coupon) 
  (Add Coupon) ..> (Set Expiredate) : <<include>>
  (Add Coupon) <.. (Remove Coupon) : <<extend>>

  Admin --  (Add Room) 

  Admin --  (Add Branch)
  (Add Branch) <.. (Remove Branch) : <<extend>>
